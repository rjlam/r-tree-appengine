<html>
<head>
	<link rel="stylesheet" type="text/css" href="/style/style.css"></link>
	<link rel="stylesheet" type="text/css" href="/style/jquery-ui-1.10.3.custom.css"></link>
	<script type="text/javascript" src="/scripts/jquery-1.9.1.js"></script>
	<script type="text/javascript" src="/scripts/jquery-ui-1.10.3.custom.min.js"></script>
	<script type="text/javascript" src="/_ah/channel/jsapi"></script>
	<script type="text/javascript" src="/scripts/main.js"></script>
	<script type="text/javascript" src="/scripts/comm.js"></script>
	<script type="text/javascript">
		var server_token = "{{ token }}";	// Token passed to you by the server
		var client_id = "{{ id }}";
	</script>
</head>
<body>
<div id=header>
	<p>Google App Engine R-tree</p>
</div>
<div id=container>
	<h2>Instructions</h2>
	<p>Input your start and end points on the for your query and the 
    rectangles intersecting with the MBR formed by the points
	will be populated in the chart below. Points should be of the 
	form ##.#, ##.#. The bottom left coordinate is ##.#, ##.# and
	the top right coordinate is ##.#, ##.#.</p>
	<form name="query_box" id="query_box_form" method="post" onsubmit="parseQuery();return false;">
		Start point: <input type="text" name="startPoint" id="startPoint"> <br/>
		End point: <input type="text" name="endPoint" id="endPoint"><br/>
		<input type="hidden" name="client_id" value="{{ id }}"/>
		<input type="hidden" name="server_token" value="{{ token }}"/>
		<input type="submit" name="submit" class="button" onClick="$('#query_box_form').submit();return false;">
	</form>
	
	<!--TODO: Make this become invisible if bulk load is done?-->
	<div id="loadDiv" class="{{ showBulk }}">
	<p>To bulk load data on the roads in California into the datastore, click on the below button:</p>
	<form id="bulk_load_form" name="bulk_load" method="post">
		<input type="hidden" name="client_id" value="{{ id }}"/>
		<input type="hidden" name="server_token" value="{{ token }}"/>
		<button onClick="setMsg();showStatus('Please stand by while the data is being loaded. This may take a while...');setTimeout(bulkLoadData,1000);return false;" class="button">Bulk Load Data</button>
	</form>
	</div>
	<p/>
	<div id="messageDiv"></div>
	<p/>
	<div id="canvas">
		<canvas id="dataCanvas" width="300" height="300"></canvas>
	</div>
	<div id="status" style="display:none"></div>
	<div id="confirm" style="display:none"></div>
</div>
</body>
</html>
